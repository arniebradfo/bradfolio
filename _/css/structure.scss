// structure.scss

html, body{
  height: 100%;
  width:  100%;
  position: relative;
  overflow: hidden;
  padding: 0;
  margin: 0;
  background-color: #eee;
}

$mainNavWIDTH: 300px;
$drawerWIDTH: 90%;
$mainWrapperSCALE: 0.9;
$horzMARGIN: 20px;
$vertMARGIN: 100px;

#mainNav--opener{
	z-index: index($z-of, mainNav--opener);
	@include fixed(0 null null 0);
}

.header{
	z-index: index($z-of, header);
	@include fixed(0);
	display: none;
	overflow-y: scroll;
	overflow-x: hidden;
	height: 100%;
	// width: $drawerWIDTH * $mainWrapperSCALE;
	// margin-right: $horzMARGIN * $mainWrapperSCALE;
	// padding-left: $horzMARGIN; // + menu width
	// $drawerWIDTHinvert: 100% - $drawerWIDTH;
	// padding-right: $drawerWIDTHinvert;
	// padding-right: calc(#{$horzMARGIN} + #{$drawerWIDTHinvert});
	margin-right: (-$horzMARGIN);
	padding-right: 100% - $drawerWIDTH;
}

.mainWrapper{
	z-index: index($z-of, mainWrapper);
	@include parallaxContainer();
	// perspective-origin: center center;
	overflow-y: scroll;
	overflow-x: hidden;
	margin: (-$vertMARGIN) (-$horzMARGIN);
	padding: ($vertMARGIN - $horzMARGIN)  0;
	@include fixed(0);
	transform-origin: $horzMARGIN center;
}

#mainNav--opener:checked {
	~ .mainWrapper{
		transform: translateX($drawerWIDTH) scale($mainWrapperSCALE);
	}
	~ .header{
		display: block;
	}
}

.mainNav{
	display: flex;
	flex-direction: column;
	z-index: index($z-of, mainNav);
	@include fixed(0);
	width: $mainNavWIDTH;
	&__menu{
		flex-grow: 1;
		overflow: hidden;
		height: 100%;
		> ul{
			margin-right: (-$horzMARGIN);
			padding-right: $horzMARGIN;
			overflow-y: scroll;
			overflow-x: hidden;
			height: 100%;
		}
	}
}

.postList--header{
	z-index: index($z-of, postList--header);
	// width: 100%;
	padding-left: $mainNavWIDTH;
	// padding-right: $horzMARGIN;
}
