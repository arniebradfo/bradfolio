!function(a){a.addEvent=function(b,c,d){b.addEventListener?b.addEventListener(c,d,!1):b.attachEvent&&b.attachEvent("on"+c,function(){return d.call(b,a.event)})}}(window),function(a,b){b.AnimateMutate=function(c,d){"use strict";console.dir(this);var e=this;this.mutate=null,this.invert=null,this.play=null,this.cleanUp=null,this.cleanUpAfter=null,this.state=0,this.el={context:{}},this.el.context.node=d||a;
for(var f in c)this.el[f]={},this.el[f].node=this.el.context.node.getElementsByClassName(c[f])[0];this.collect=function(){var a=this.collectedFirst?"last":"first";this.collectedFirst=!0;for(var c in this.el)this.el[c][a]={},this.el[c][a].rect=this.el[c].node.getBoundingClientRect(),this.el[c][a].compStyle=b.getComputedStyle(this.el[c].node)},this.cleanUpWrapper=function(a){e.cleanup(),e.state++,a.target.removeEventListener(a.type,e.cleanUp);
},this.animate=function(){this.mutate&&this.invert&&this.play&&(this.collect(),this.state++,this.mutate(),this.state++,this.collect(),this.state++,this.invert(),this.state++,b.requestNextAnimationFrame(function(){if(e.play(),e.state++,e.cleanupAfter&&e.cleanup){var a=b.whichTransitionEvent();e.cleanupAfter.addEventListener(a,e.cleanUpWrapper,!1)}else e.state++}))}}}(document,window),function(a){a.requestNextAnimationFrame=function(b){
"use strict";var c=this;if(c.parameterError="requestNextAnimationFrame() requires a function as its sole parameter","function"!=typeof b)throw c.parameterError;return c.callback=b,c.queueTime=null,c.testAnimationFrame=function(){a.requestAnimationFrame(function(a){return c.queueTime||(c.queueTime=a),c.queueTime===a?void c.testAnimationFrame():void c.callback()})},c.testAnimationFrame()}}(window),function(a){
a.serializeForm=function(a,b,c){"use strict";var d,e=function(a,e){e=encodeURIComponent(e),b&&(e=e.replace(/%20/g,"+")),c?d[a]=e:d.push(a+"="+e)};d=c?{}:[];var f,g;for(f=0,g=a.elements.length;g>f;++f){var h=a.elements[f];if(f in a.elements)switch(h.nodeName){case"BUTTON":break;default:switch(h.type){case"submit":case"button":break;default:e(h.name,h.value)}}}return c?d:d.join("&")}}(window),function(a,b){
"use strict";b.whichTransitionEvent=function(){var b,c=a.createElement("fakeelement"),d={transition:"transitionend",OTransition:"oTransitionEnd",MozTransition:"transitionend",WebkitTransition:"webkitTransitionEnd"};for(b in d)if(void 0!==c.style[b])return d[b]}}(document,window),function(a,b){"use strict";var c=function(c){c.preventDefault();var d=new b.AnimateMutate({hero:"cover__hero",title:"cover__titleLink",
imgList:"cover__heroImg--list",imgBlur:"cover__heroImg--blur"},this);d.mutate=function(){var b=a.getElementsByClassName("mainContent")[0],c=b.cloneNode(!0),d=this.el.context.node.cloneNode(!0);this.el.context.node.parentNode.insertBefore(d,this.el.context.node.nextSibling),c.replaceChild(this.el.context.node,c.getElementsByClassName("post")[0]),c.classList.remove("mainContent--active"),this.el.context.node.classList.remove("post--list"),
this.el.context.node.classList.add("post--full"),a.body.appendChild(c),a.body.removeChild(b),a.getElementById("mainNav--opener").checked=!1,c.classList.add("mainContent--active"),this.el.hero.node.style.transform=this.el.title.node.style.transform="none"},d.invert=function(){this.el.hero.node.style.transition=this.el.title.node.style.transition="none";var a="translateZ(0.0001px) ",b=this.el.hero.first.rect.left+this.el.hero.first.rect.width/2-(this.el.hero.last.rect.left+this.el.hero.last.rect.width/2);
a+="translateX("+b+"px) ";var c=this.el.hero.first.rect.top+this.el.hero.first.rect.height/2-(this.el.hero.last.rect.top+this.el.hero.last.rect.height/2);a+="translateY("+c+"px) ";var d=this.el.hero.first.rect.width/this.el.hero.last.rect.width;a+="scaleX("+d+") ";var e=this.el.hero.first.rect.height/this.el.hero.last.rect.height;a+="scaleY("+e+") ",this.el.hero.node.style.transform=a;var f=this.el.title.first.rect.width*parseFloat(this.el.title.last.compStyle.lineHeight)/parseFloat(this.el.title.first.compStyle.lineHeight),g="translateZ(0.0002px) ",h=this.el.title.first.rect.left+this.el.title.first.rect.width/2-(this.el.title.last.rect.left+f/2);
g+="translateX("+h+"px) ";var i=this.el.title.first.rect.bottom-this.el.title.last.rect.bottom;g+="translateY("+i+"px) ";var j=this.el.title.first.rect.width/f;g+="scale("+j+") ",this.el.title.node.style.width=f+"px",this.el.title.node.style.transform=g,this.el.imgList.node.style.opacity=0,this.el.imgBlur.node.style.opacity=.6},d.play=function(){console.log(this),this.el.hero.node.style.transition=this.el.title.node.style.transition="",
this.el.hero.node.style.transform=this.el.title.node.style.transform=""},d.cleanup=function(){console.log("transition done!")},d.cleanupAfter=d.el.hero.node,d.animate()},d=function(){for(var b=a.getElementsByClassName("post--postExpandJS"),d=0;d<b.length;d++){var e=b[d];e.addEventListener("click",c,!0)}};"loading"===a.readyState||"interactive"===a.readyState?b.addEventListener("load",d,!1):d()}(document,window);