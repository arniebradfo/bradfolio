!function(a,b){b.addAjaxQueryString=function(a,b){return b=void 0!==b?b:"true",a+="?ajax="+b}}(document,window),function(a){a.addEvent=function(b,c,d){b.addEventListener?b.addEventListener(c,d,!1):b.attachEvent&&b.attachEvent("on"+c,function(){return d.call(b,a.event)})}}(window),function(a){a.requestNextAnimationFrame=function(b){"use strict";var c=this;if(c.parameterError="requestNextAnimationFrame() requires a function as its sole parameter",
"function"!=typeof b)throw c.parameterError;return c.callback=b,c.queueTime=null,c.testAnimationFrame=function(){a.requestAnimationFrame(function(a){return c.queueTime||(c.queueTime=a),c.queueTime===a?void c.testAnimationFrame():void c.callback()})},c.testAnimationFrame()}}(window),function(a){a.serializeForm=function(a,b,c){"use strict";var d,e=function(a,e){e=encodeURIComponent(e),b&&(e=e.replace(/%20/g,"+")),
c?d[a]=e:d.push(a+"="+e)};d=c?{}:[];var f,g;for(f=0,g=a.elements.length;f<g;++f){var h=a.elements[f];if(f in a.elements)switch(h.nodeName){case"BUTTON":break;default:switch(h.type){case"submit":case"button":break;default:e(h.name,h.value)}}}return c?d:d.join("&")}}(window),function(a,b){"use strict";b.whichTransitionEvent=function(){var b,c=a.createElement("fakeelement"),d={transition:"transitionend",
OTransition:"oTransitionEnd",MozTransition:"transitionend",WebkitTransition:"webkitTransitionEnd"};for(b in d)if(void 0!==c.style[b])return d[b]}}(document,window),function(a,b){b.AnimateMutate=function(c,d){"use strict";var e=this;this.mutate=null,this.invert=null,this.play=null,this.cleanUp=null,this.cleanUpAfter=null,this.readyState=0,this.readyStateMax=6,this.complete=function(){return this.readyStateMax<=this.readyState;
},this.el={context:{}},this.el.context.node=d||a;for(var f in c)this.el[f]={},"string"==typeof c[f]?this.el[f].node=this.el.context.node.getElementsByClassName(c[f])[0]:"object"==typeof c[f]&&(this.el[f].node=this.el.context.node.getElementsByClassName(c[f][0])[0],this.el[f].needCompStyle=c[f][1]);this.copyComputedStyle=function(a){var b={};for(var c in a)parseInt(c)||"function"==typeof a[c]||(b[c]=a[c]);
return b},this.collect=function(){var a=this.collect.once?"last":"first";this.collect.once=!0;for(var c in this.el){var d=this.el[c];d[a]={},d[a].rect=d.node.getBoundingClientRect(),d.needCompStyle&&(d[a].compStyle=this.copyComputedStyle(b.getComputedStyle(d.node)))}},this.cleanUpWrapper=function(a){e.readyState++,a.target.removeEventListener(a.type,e.cleanUp),e.cleanUp()},this.animate=function(){this.mutate&&this.invert&&this.play&&(this.collect(),
this.readyState++,this.mutate(),this.readyState++,this.collect(),this.readyState++,this.invert(),this.readyState++,b.requestNextAnimationFrame(function(){if(e.play(),e.readyState++,e.cleanUpAfter&&e.cleanUp){var a=b.whichTransitionEvent();e.cleanUpAfter.addEventListener(a,e.cleanUpWrapper,!1)}else e.readyState++}))}}}(document,window),function(a,b){b.ProgressTracker=function(a,c){"use strict";var d=this;
this.trackedStates={},this.trackedStates.list=a,this.trackedStates.total=function(){for(var a=0,b=0;b<d.trackedStates.list.length;b++)a+=d.trackedStates.list[b][1];return a}(),this.trackedStates.current=function(){for(var a=0,b=0;b<this.list.length;b++)a+=this.list[b][0];return a},this.trackedStates.previous=0,this.trackedStates.complete=function(){for(var a=0;a<this.list.length;a++)if(this.list[a][0]()<this.list[a][1])return!1;
return!0},this.readyState=0,this.readyStateMax=1,this.complete=function(){return this.readyStateMax<=this.readyState},this.params={reserved:.1*this.readyStateMax,coefficient:.01},this.update=null,this.callback=c,this.forward=function(){if(d.complete())return void d.callback();if(b.requestAnimationFrame(d.forward),d.trackedStates.complete())d.readyState=d.readyStateMax;else{var a=d.readyStateMax-d.readyState;
if(d.trackedStates.current()>d.trackedStates.previous){var c=d.trackedStates.current()-d.trackedStates.previous,e=d.trackedStates.total-d.trackedStates.previous;d.readyState+=c/e*a,d.trackedStates.previous=d.trackedStates.current()}else d.readyState+=d.params.coefficient*a}d.update()},this.start=this.forward}}(document,window),function(a,b){b.RequestImg=function(a,b){"use strict";var c=this;this.img=a,
this.callback=b,this.readyState=function(){return c.img.complete&&c.attsMutated?1:0},this.readyStateMax=1,this.complete=function(){return c.readyStateMax<=c.readyState()},this.attsMutated=!1,this.mutateAtts=function(){this.img.onload=this.callback;for(var a in this.img.dataset)this.img.setAttribute(a,this.img.dataset[a]),this.img.removeAttribute("data-"+a);this.attsMutated=!0}}}(document,window),function(a,b){
"use strict";b.navigationJS_default=function(c,d){console.dir(this);var e=new b.AnimateMutate({},c);e.mutate=function(){},e.invert=function(){},e.play=function(){},e.cleanUp=function(){};var f=new b.XMLHttpRequest;f.open("GET",d,!0),f.timeout=5e3,f.setRequestHeader("X-Requested-With","XMLHttpRequest"),f.setRequestHeader("WP-Request-Type","GetPage"),f.onload=function(){var b=a.createElement("div");b.innerHTML=f.responseText,
console.log(b),a.querySelector(".mainNav").innerHTML=b.querySelector(".mainNav").innerHTML,a.querySelector(".postListWrapper").innerHTML=b.querySelector(".postListWrapper").innerHTML,a.querySelector(".mainContent").innerHTML=b.querySelector(".mainContent").innerHTML},f.onerror=f.onabort=f.ontimeout=function(){console.log("ajax failed"),b.location=d};var g=function(){},h=function(){return f.readyState;
},i=[[h,4]],j=new b.ProgressTracker(i,g);j.update=function(){},f.send(),e.animate(),j.start()}}(document,window),function(a,b){"use strict";b.navigationJS_postExpand=function(c,d){console.dir(this),d=b.addAjaxQueryString(d,"getpage");var e=new b.AnimateMutate({hero:"cover__hero",title:["cover__titleLink",!0],imgList:"cover__heroImg--list",imgBlur:"cover__heroImg--blur",loadBar:"button"},c),f=e.el.context,g=e.el.hero,h=e.el.title,i=e.el.imgList,j=e.el.loadBar,k=j.node.getElementsByClassName("button__loadbar")[0];
e.mutate=function(){var b=a.getElementsByClassName("mainContent")[0],c=b.cloneNode(!0),d=f.node.cloneNode(!0);f.node.parentNode.insertBefore(d,f.node.nextSibling),c.replaceChild(f.node,c.getElementsByClassName("postItem")[0]),c.classList.remove("mainContent--active"),f.node.classList.remove("post--list"),f.node.classList.add("post--full"),a.body.appendChild(c),a.body.removeChild(b),a.getElementById("mainNav--opener").checked=!1,
c.classList.add("mainContent--active"),g.node.style.transform=h.node.style.transform=j.node.style.transition="none"},e.invert=function(){g.node.style.transition=h.node.style.transition=j.node.style.transition="none";var a=g.first.rect.left+g.first.rect.width/2-(g.last.rect.left+g.last.rect.width/2),b=g.first.rect.top+g.first.rect.height/2-(g.last.rect.top+g.last.rect.height/2),c=g.first.rect.width/g.last.rect.width,d=g.first.rect.height/g.last.rect.height,e="translateZ(0.0001px) ";
e+="translateX("+a+"px) ",e+="translateY("+b+"px) ",e+="scaleX("+c+") ",e+="scaleY("+d+") ",g.node.style.transform=e;var f=h.first.rect.width*parseFloat(h.last.compStyle.lineHeight)/parseFloat(h.first.compStyle.lineHeight),i="translateZ(0.0002px) ",k=h.first.rect.left+h.first.rect.width/2-(h.last.rect.left+f/2);i+="translateX("+k+"px) ";var l=h.first.rect.bottom-h.last.rect.bottom;i+="translateY("+l+"px) ";
var m=h.first.rect.width/f;i+="scale("+m+") ",h.node.style.width=f+"px",h.node.style.transform=i;var n=j.first.rect.left-j.last.rect.left,o=j.first.rect.top-j.last.rect.top;j.node.style.transform="translateZ(0.0001px) translateX("+n+"px) translateY("+o+"px)",this.el.imgList.node.style.opacity=0,this.el.imgBlur.node.style.opacity=.6},e.play=function(){g.node.style.transition=h.node.style.transition=j.node.style.transition="",
g.node.style.transform=h.node.style.transform=j.node.style.transform=""},e.cleanUpAfter=g.node;var l=new b.RequestImg(i.node),m=new b.XMLHttpRequest;m.open("GET",d,!0),m.timeout=5e3,m.setRequestHeader("X-Requested-With","XMLHttpRequest"),m.setRequestHeader("WP-Request-Type","GetPage"),m.onload=function(){var b=a.createElement("div");b.innerHTML=m.responseText,console.log(b),f.node.getElementsByClassName("excerpt")[0].innerHTML="",
f.node.getElementsByClassName("frame")[0].innerHTML=b.getElementsByClassName("frame")[0].innerHTML};var n=function(){i.node.style.transition=e.el.imgBlur.node.style.transition="opacity .5s linear",b.requestAnimationFrame(function(){i.node.style.opacity=e.el.imgBlur.node.style.opacity=""})},o=function(){return m.readyState},p=[[o,4],[l.readyState,l.readyStateMax]],q=new b.ProgressTracker(p,n);q.update=function(){
k.style.transform="scaleX("+this.readyState+")"},m.send(),e.animate(),q.start(),l.mutateAtts()}}(document,window),function(a,b){var c,d="navigationJS_default",e=[d,"navigationJS_postExpand"],f=function(a,d,e){c=!1,console.log("navigation type: "+e),b.history.pushState({type:e},"",d),b[e](a,d)},g=function(a,b){c=!0;for(var g=function(c){a.classList.contains(c)&&f(a,b,c)};c;)"BODY"===a.tagName&&f(a,b,d),
e.forEach(g),a=a.parentElement},h=function(a){},i=function(c){var d=c||b.event;if(!(d.metaKey||d.ctrlKey||d.altKey||d.shiftKey)){for(var e=d.target;;){if("BODY"===e.tagName)return;if("A"===e.tagName)break;e=e.parentElement}var f=e;if(f.href){if(f.href===b.location.href)return console.log("you're already on that page"),void d.preventDefault();var h=new RegExp(b.location.origin+b.location.pathname+"[^/]*[&#?]","g"),i=new RegExp("/wp-","g");
!(f.href.indexOf(a.domain)>-1||f.href.indexOf(":")===-1)||f.href.match(h)||f.href.match(i)||f.href.match(/\/feed/g)||(d.preventDefault(),g(f,f.href))}}},j=function(){b.addEventListener("popstate",h,!1),a.addEventListener("click",i,!0)};"loading"===a.readyState?a.addEventListener("DOMContentLoaded",j,!1):j()}(document,window);