function addEvent(a,b,c){a.addEventListener?a.addEventListener(b,c,!1):a.attachEvent&&a.attachEvent("on"+b,function(){return c.call(a,window.event)})}function attachCtrlEnterSubmitWPComment(){commentArea=document.getElementById("comment"),commentArea&&addEvent(commentArea,"keydown",function(a){!a.ctrlKey&&!a.metaKey||13!=a.keyCode&&10!=a.keyCode||document.getElementById("submit").click()})}HTMLFormElement.prototype.serialize=function(a){
"use strict";var b,c=this,d=function(c,d){d=encodeURIComponent(d),a?b[c]=d:b.push(c+"="+d)};b=a?{}:[];var e,f;for(e=0,f=c.elements.length;f>e;++e){var g=c.elements[e];if(e in c.elements)switch(g.nodeName){case"BUTTON":break;default:switch(g.type){case"submit":case"button":break;default:d(g.name,g.value)}}}return a?b:b.join("&")},wpajax_options={contentSelector:"#content",adminUrlRegEx:"/wp-",ajaxClass:"added-by-wpajax"
},function(a,b){wpajax={load:function(a){var b=new XMLHttpRequest;b.onreadystatechange=function(){switch(b.readyState){case 0:break;case 1:"function"==typeof a.connected&&a.connected();break;case 2:"function"==typeof a.requested&&a.requested();break;case 3:"function"==typeof a.processing&&a.processing();break;case 4:b.status>=200&&b.status<300?"function"==typeof a.delivered&&a.delivered(b.responseText,b.statusText):"function"==typeof a.failed&&a.failed(a.href,b.status,b.statusText);
}},b.timeout="number"==typeof a.timeoutTimer?a.timeoutTimer:0,"function"==typeof a.started&&addEvent(b,"loadstart",function(){a.started()}),"function"==typeof a.aborted&&(addEvent(b,"abort",function(){a.aborted(a.href)}),addEvent(b,"timeout",function(){a.aborted(a.href,b.timeout)})),"function"==typeof a.finished&&addEvent(b,"loadend",function(){a.finished()});var c="string"==typeof a.httpMethod?a.httpMethod.toUpperCase():"GET";
if("GET"!==c&&"POST"!==c&&"PUT"!==c)return!1;if(b.open(c,a.href,!0),"object"==typeof a.requestHeaders){var d,e;for(d=0,e=a.requestHeaders.length;e>d;++d){var f=a.requestHeaders[d];b.setRequestHeader(f.header,f.value)}}return b.setRequestHeader("X-Requested-With","XMLHttpRequest"),"string"==typeof a.data?(b.setRequestHeader("Content-type","application/x-www-form-urlencoded"),b.send(a.data)):b.send(),
!0},replaceNavLinks:function(a,c){if(!a||!c)return!1;var d,e;for(d=0,e=c.length;e>d;++d){var f=c[d];f.classList.add(b.ajaxClass),a.firstElementChild.href?f.firstElementChild.href=a.firstElementChild.href:f.firstElementChild.removeAttribute("href")}return!0},replaceNavPageLinks:function(a,c){if(!a||!c)return!1;var d,e;for(d=0,e=c.length;e>d;++d){var f=c[d];f.classList.add(b.ajaxClass),f.innerHTML=a.innerHTML;
}return!0},updateLinkTag:function(b,c){a.head.querySelector('link[rel="'+b+'"]')&&(c.querySelector('link[rel="'+b+'"]')?a.head.querySelector('link[rel="'+b+'"]').href=c.querySelector('link[rel="'+b+'"]').href:a.head.querySelector('link[rel="'+b+'"]').remove())},attachPageLoad:function(){var c=this;return addEvent(window,"popstate",function(a){if(null!==a.state){var b=wpajax_GETPage;b.href=location.href,
c.load(b)}}),addEvent(a,"click",function(d){var e=window.event||d;if("A"!==e.target.tagName&&"AREA"!==e.target.tagName)return!1;if(e.metaKey||e.ctrlKey||e.altKey||e.shiftKey)return!1;if(!e.target.href)return!1;var f=e.target.href;if(f==window.location.href)return console.log("you're already on that page"),e.preventDefault(),!1;var g=new RegExp(window.location.origin+window.location.pathname+"[^/]*[&#?]","g"),h=new RegExp(b.adminUrlRegEx,"g");
if((f.indexOf(a.domain)>-1||-1===f.indexOf(":"))&&!f.match(g)&&!f.match(h)&&!f.match(/\/feed/g)){e.preventDefault(),history.pushState({},"",f);for(var i,j=a.querySelectorAll(".comment-navigation"),k=!1,l=0,m=j.length;m>l;++l)j[l].contains(e.target)&&(k=!0);for(var n=a.querySelectorAll(".post-navigation"),o=!1,p=0,q=n.length;q>p;++p)n[p].contains(e.target)&&(o=!0);o?(i=wpajax_GETPosts,i.href=f,c.load(i)):k?(i=wpajax_GETCommentsSection,
i.href=f,c.load(i)):(i=wpajax_GETPage,i.href=f,c.load(i))}}),!0},attachComments:function(){var b=a.getElementById("respond"),c=a.getElementById("commentform"),d=a.createElement("div"),e=this;c&&d&&(d.id="comment-status",d=b.insertBefore(d,c),addEvent(c,"submit",function(a){a.preventDefault(),e.submitComment(c,d)}))},submitComment:function(c,d){var e=c.action,f=c.method?c.method.toUpperCase():"POST",g=c.serialize().replace(/%20/g,"+"),h=/&comment_parent=(\d+)/.exec(g)[1],i={
placeholder:'<p class="ajax-placeholder">Processing...</p>',invaid:'<p class="ajax-error" ><strong>ERROR:</strong> You might have left one of the fields blank, or be posting too quickly</p>',success:'<p class="ajax-success" ><strong>SUCCESS:</strong> Thanks for your comment. We appreciate your response.</p>',aborted:'<p class="ajax-success" ><strong>TIMEOUT:</strong> There was no response from the server. Please refresh the page to see if your comment Posted.</p>',
error:'<p class="ajax-error" ><strong>ERROR:</strong> Please wait a while before posting your next comment</p>'};return this.load({httpMethod:f,href:e,data:g,timeoutTimer:5e3,requestHeaders:[{header:"WP-Request-Type",value:"PostComment"}],started:function(){d.innerHTML=i.placeholder},failed:function(b,c,e){var f=a.createElement("div");f.innerHTML=responseText;var g=f.querySelector("title");return g&&g.innerHTML.toLowerCase().match(/error/)?(d.innerHTML="<p><strong>ERROR "+c+": </strong>"+f.getElementsByTagName("p")[0].innerHTML+"</p>",
!0):(d.innerHTML="<p><strong>ERROR "+c+": </strong>"+e+"</p>",!1)},aborted:function(a,b){d.innerHTML=i.aborted},delivered:function(e,f){var g=a.createElement("ul");g.className="children",g.innerHTML=e,e=g.firstElementChild;var j=g.querySelector("title");if(j&&j.innerHTML.toLowerCase().match(/error/))return i.wpError=g.getElementsByTagName("p")[0].innerHTML,d.innerHTML=i.wpError,!1;if("0"==h){var k=a.getElementsByClassName("commentlist")[0];
if(!k)return console.log("there is nowhere to put the comment"),d.innerHTML=i.error,!1;e.classList.add(b.ajaxClass),k.insertBefore(e,k.firstElementChild)}else{var l=a.querySelector("#comment-"+h+" > ul.children");null!==l?(e.classList.add(b.ajaxClass),l.appendChild(e)):(g.classList.add(b.ajaxClass),a.getElementById("comment-"+h).appendChild(g))}d.innerHTML=i.success,c.querySelector("textarea[name=comment]").value="";
}}),!0}},wpajax_GETPage={httpMethod:"GET",timeoutTimer:5e3,requestHeaders:[{header:"WP-Request-Type",value:"GetPage"}],main:a.querySelector(b.contentSelector),aborted:function(a,b){var c="undefined"==b?"":"The request timed out after "+b+" milliseconds.";return console.log("ajax load was aborted.\n"+c),a?(location.href=a,!0):!1},failed:function(a,b,c){return errorStatusText="undefined"==typeof c?"":"Error Message: "+c,
console.log("ajax load failed with an error code: "+b+"\n"+errorStatusText),a?(location.href=a,!0):!1},delivered:function(c,d){var e=a.createElement("div");e.innerHTML=c;for(var f=a.head.getElementsByTagName("meta"),g=e.querySelector("#ajax-head").getElementsByTagName("meta"),h=f.length-1;h>-1;--h)f[h].remove();for(var i=g.length-1;i>-1;--i)a.head.appendChild(g[i]);wpajax.updateLinkTag("next",e),wpajax.updateLinkTag("prev",e),
wpajax.updateLinkTag("shortlink",e),wpajax.updateLinkTag("canonical",e),e.getElementsByTagName("title")&&(a.title=e.getElementsByTagName("title")[0].innerHTML),this.main&&e.querySelector(this.main).innerHTML&&(this.main.classList.add(b.ajaxClass),this.main.innerHTML=e.querySelector(this.main).innerHTML),menuItems=e.querySelector("#wp-all-registered-nav-menus").querySelectorAll(".menu-item");for(var j=0;j<menuItems.length;++j){
var k=menuItems[j];a.getElementById(k.id).className=k.className}return"function"==typeof ga&&ga("send","pageview"),wpajax.attachComments(),attachCtrlEnterSubmitWPComment(),!0}},wpajax_GETPosts={timeoutTimer:5e3,requestHeaders:[{header:"WP-Request-Type",value:"GetPosts"}],delivered:function(c,d){var e=a.createElement("div");e.innerHTML=c,a.getElementsByClassName("post-items")[0].classList.add(b.ajaxClass),
a.getElementsByClassName("post-items")[0].innerHTML=e.querySelector(".post-items").innerHTML;var f=e.querySelector(".post-navigation .next-posts"),g=e.querySelector(".post-navigation .prev-posts"),h=e.querySelector(".post-navigation .page-numbers"),i=a.querySelectorAll(".post-navigation .next-posts"),j=a.querySelectorAll(".post-navigation .prev-posts"),k=a.querySelectorAll(".post-navigation .page-numbers");
return wpajax.replaceNavLinks(f,i),wpajax.replaceNavLinks(g,j),wpajax.replaceNavPageLinks(h,k),"function"==typeof ga&&ga("send","pageview"),!0}},wpajax_GETCommentsSection={httpMethod:"GET",timeoutTimer:5e3,requestHeaders:[{header:"WP-Request-Type",value:"GetCommentsSection"}],delivered:function(c,d){var e=a.createElement("div");if(e.innerHTML=c,console.log(e),a.getElementsByClassName("commentlist")[0].classList.add(b.ajaxClass),
a.getElementsByClassName("commentlist")[0].innerHTML=e.querySelector(".commentlist").innerHTML,!a.getElementById("respond")){var f=a.getElementById("comments-section"),g=e.querySelector("#respond");f&&g&&f.appendChild(g)}var h=e.querySelector(".comment-navigation .next-comments"),i=e.querySelector(".comment-navigation .prev-comments"),j=e.querySelector(".comment-navigation .page-numbers"),k=a.querySelectorAll(".comment-navigation .next-comments"),l=a.querySelectorAll(".comment-navigation .prev-comments"),m=a.querySelectorAll(".comment-navigation .page-numbers");
return wpajax.replaceNavLinks(h,k),wpajax.replaceNavLinks(i,l),wpajax.replaceNavPageLinks(j,m),"function"==typeof ga&&ga("send","pageview"),!0}},wpajax_GETExample={httpMethod:"GET",timeoutTimer:5e3,requestHeaders:[{header:"WP-Request-Type",value:"GetExample"},{header:"another-header",value:"pass this to wordpress backend"}],started:function(){return console.log("ajax load has not yet been initalized"),
!0},connected:function(){return console.log("Connection Established"),!0},requested:function(){return console.log("Request Recieved"),!0},processing:function(){return console.log("Processing Request"),!0},aborted:function(a,b){var c="undefined"==b?"":"The request timed out after "+b+" milliseconds.";return console.log("ajax load was aborted.\n"+c),a?(location.href=a,!0):!1},finished:function(){return console.log("ajax is done..."),
!0},failed:function(a,b,c){return errorStatusText="undefined"==typeof c?"":"Error Message: "+c,console.log("ajax load failed with an error code: "+b+"\n"+errorStatusText),a?(location.href=a,!0):!1},delivered:function(b,c){var d=a.createElement("div");return d.innerHTML=b,console.log("ajax loaded!"),"function"==typeof ga&&ga("send","pageview"),!0}},attachCtrlEnterSubmitWPComment(),wpajax.attachPageLoad(),
wpajax.attachComments()}(document,wpajax_options);