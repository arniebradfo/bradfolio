!function(a,b){"use strict";function c(c,d){console.dir(this),this.e=c,this.post=d;var e=this;this.elements={hero:"cover__hero",title:"cover__titleLink",imgList:"cover__heroImg--list",imgBlur:"cover__heroImg--blur"};for(var f in this.elements)this[f]={node:this.post.getElementsByClassName(this.elements[f])[0]};this.mutate=function(){this.main=a.getElementsByClassName("mainContent")[0],this.mainClone=this.main.cloneNode(!0),
this.postClone=this.post.cloneNode(!0),this.post.parentNode.insertBefore(this.postClone,this.post.nextSibling),this.mainClone.replaceChild(this.post,this.mainClone.getElementsByClassName("post")[0]),this.mainClone.classList.remove("mainContent--active"),this.post.classList.remove("post--list"),this.post.classList.add("post--full"),a.body.appendChild(this.mainClone),a.body.removeChild(this.main),a.getElementById("mainNav--opener").checked=!1,
this.mainClone.classList.add("mainContent--active"),this.hero.node.style.transform="none",this.title.node.style.transform="none"},this.collectRects=function(a){for(var b in this.elements)this[b][a]=this[b].node.getBoundingClientRect()},this.collectComputedStyles=function(a){for(var c in this.elements)this[c][a]=b.getComputedStyle(this[c].node)},this.first=function(){this.collectRects("rectFirst"),this.title.lineHeightFirst=b.getComputedStyle(this.title.node).lineHeight;
},this.last=function(){this.mutate(),this.collectRects("rectLast"),this.title.lineHeightLast=b.getComputedStyle(this.title.node).lineHeight},this.invert=function(){this.hero.node.style.transformOrigin=this.title.node.style.transition="50% 50%",this.hero.node.style.transition=this.title.node.style.transition="none";var a="translateZ(-0.00002px) ",b=this.hero.rectFirst.left+this.hero.rectFirst.width/2-(this.hero.rectLast.left+this.hero.rectLast.width/2);
a+="translateX("+b+"px) ";var c=this.hero.rectFirst.top+this.hero.rectFirst.height/2-(this.hero.rectLast.top+this.hero.rectLast.height/2);a+="translateY("+c+"px) ";var d=this.hero.rectFirst.width/this.hero.rectLast.width;a+="scaleX("+d+") ";var e=this.hero.rectFirst.height/this.hero.rectLast.height;a+="scaleY("+e+") ",this.hero.node.style.transform=a;var f=this.title.rectFirst.width*parseFloat(this.title.lineHeightLast)/parseFloat(this.title.lineHeightFirst),g="translateZ(-0.00001px) ",h=this.title.rectFirst.left+this.title.rectFirst.width/2-(this.title.rectLast.left+f/2);
g+="translateX("+h+"px) ";var i=this.title.rectFirst.top+this.title.rectFirst.height/2-(this.title.rectLast.top+this.title.rectLast.height/2);g+="translateY("+i+"px) ";var j=this.title.rectFirst.height/this.title.rectLast.height;g+="scale("+j+") ",this.title.node.style.width=f+"px",this.title.node.style.transform=g,this.imgList.node.style.opacity=0,this.imgBlur.node.style.opacity=.6},this.playStart=null,
this.play=function(a){this.hero.node.style.transition=this.title.node.style.transition="",this.hero.node.style.transform=this.title.node.style.transform="";var c=b.whichTransitionEvent();this.hero.node.addEventListener(c,this.cleanup,!1)},this.cleanup=function(a){a.target.removeEventListener(a.type,e.cleanup)}}var d=function(a){a.preventDefault();var d=new c(a,this);d.first(),d.last(),d.invert(),b.requestNextAnimationFrame(function(){
d.play()})},e=function(){for(var b=a.getElementsByClassName("post--postExpandJS"),c=0;c<b.length;c++){var e=b[c];e.addEventListener("click",d,!0)}};"loading"===a.readyState||"interactive"===a.readyState?b.addEventListener("load",e,!1):e()}(document,window),function(a){a.requestNextAnimationFrame=function(b){var c=this;if("function"!=typeof b)throw"requestNextAnimationFrame() requires a function as its sole parameter";
return this.func=b,this.queueTime=null,this.testAnimationFrame=function(){a.requestAnimationFrame(function(a){return c.queueTime||(c.queueTime=a),c.queueTime===a?void this.testAnimationFrame():void c.func()})},this.testAnimationFrame()}}(window),function(a,b){b.whichTransitionEvent=function(){var b,c=a.createElement("fakeelement"),d={transition:"transitionend",OTransition:"oTransitionEnd",MozTransition:"transitionend",
WebkitTransition:"webkitTransitionEnd"};for(b in d)if(void 0!==c.style[b])return d[b]}}(document,window);