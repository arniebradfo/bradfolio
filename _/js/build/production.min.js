function addEvent(a,b,c){a.addEventListener?a.addEventListener(b,c,!1):a.attachEvent&&a.attachEvent("on"+b,function(){return c.call(a,window.event)})}function attachCtrlEnterSubmitWPComment(){var a=document.getElementById("comment");a&&addEvent(a,"keydown",function(a){!a.ctrlKey&&!a.metaKey||13!==a.keyCode&&10!==a.keyCode||document.getElementById("submit").click()})}!function(a,b){"use strict";function c(c,d){
console.dir(this),this.e=c,this.post=d;var e=this;this.elements={hero:"cover__hero",title:"cover__titleLink",imgList:"cover__heroImg--list",imgBlur:"cover__heroImg--blur"};for(var f in this.elements)this[f]={node:this.post.getElementsByClassName(this.elements[f])[0]};this.mutate=function(){this.main=a.getElementsByClassName("mainContent")[0],this.mainClone=this.main.cloneNode(!0),this.postClone=this.post.cloneNode(!0),
this.post.parentNode.insertBefore(this.postClone,this.post.nextSibling),this.mainClone.replaceChild(this.post,this.mainClone.getElementsByClassName("post")[0]),this.mainClone.classList.remove("mainContent--active"),this.post.classList.remove("post--list"),this.post.classList.add("post--full"),a.body.appendChild(this.mainClone),a.body.removeChild(this.main),a.getElementById("mainNav--opener").checked=!1,
this.mainClone.classList.add("mainContent--active"),this.hero.node.style.transform=this.title.node.style.transform="none"},this.collectRects=function(a){for(var b in this.elements)this[b][a]=this[b].node.getBoundingClientRect()},this.collectComputedStyles=function(a){for(var c in this.elements)this[c][a]=b.getComputedStyle(this[c].node)},this.first=function(){this.collectRects("rectFirst"),this.title.lineHeightFirst=b.getComputedStyle(this.title.node).lineHeight;
},this.last=function(){this.mutate(),this.collectRects("rectLast"),this.title.lineHeightLast=b.getComputedStyle(this.title.node).lineHeight},this.invert=function(){this.hero.node.style.transition=this.title.node.style.transition="none";var a="translateZ(0.0001px) ",b=this.hero.rectFirst.left+this.hero.rectFirst.width/2-(this.hero.rectLast.left+this.hero.rectLast.width/2);a+="translateX("+b+"px) ";var c=this.hero.rectFirst.top+this.hero.rectFirst.height/2-(this.hero.rectLast.top+this.hero.rectLast.height/2);
a+="translateY("+c+"px) ";var d=this.hero.rectFirst.width/this.hero.rectLast.width;a+="scaleX("+d+") ";var e=this.hero.rectFirst.height/this.hero.rectLast.height;a+="scaleY("+e+") ",this.hero.node.style.transform=a;var f=this.title.rectFirst.width*parseFloat(this.title.lineHeightLast)/parseFloat(this.title.lineHeightFirst),g="translateZ(0.0002px) ",h=this.title.rectFirst.left+this.title.rectFirst.width/2-(this.title.rectLast.left+f/2);
g+="translateX("+h+"px) ";var i=this.title.rectFirst.bottom-this.title.rectLast.bottom;g+="translateY("+i+"px) ";var j=this.title.rectFirst.width/f;g+="scale("+j+") ",this.title.node.style.width=f+"px",this.title.node.style.transform=g,this.imgList.node.style.opacity=0,this.imgBlur.node.style.opacity=.6},this.playStart=null,this.play=function(a){this.hero.node.style.transition=this.title.node.style.transition="",
this.hero.node.style.transform=this.title.node.style.transform="";var c=b.whichTransitionEvent();this.hero.node.addEventListener(c,this.cleanup,!1)},this.cleanup=function(a){a.target.removeEventListener(a.type,e.cleanup)}}var d=function(a){a.preventDefault();var d=new c(a,this);d.first(),d.last(),d.invert(),b.requestNextAnimationFrame(function(){d.play()})},e=function(){for(var b=a.getElementsByClassName("post--postExpandJS"),c=0;c<b.length;c++){
var e=b[c];e.addEventListener("click",d,!0)}};"loading"===a.readyState||"interactive"===a.readyState?b.addEventListener("load",e,!1):e()}(document,window),function(a){a.requestNextAnimationFrame=function(b){var c=this;if("function"!=typeof b)throw"requestNextAnimationFrame() requires a function as its sole parameter";return this.func=b,this.queueTime=null,this.testAnimationFrame=function(){a.requestAnimationFrame(function(a){
return c.queueTime||(c.queueTime=a),c.queueTime===a?void this.testAnimationFrame():void c.func()})},this.testAnimationFrame()}}(window),function(a,b){b.whichTransitionEvent=function(){var b,c=a.createElement("fakeelement"),d={transition:"transitionend",OTransition:"oTransitionEnd",MozTransition:"transitionend",WebkitTransition:"webkitTransitionEnd"};for(b in d)if(void 0!==c.style[b])return d[b]}}(document,window),
HTMLFormElement.prototype.serialize=function(a){"use strict";var b,c=this,d=function(c,d){d=encodeURIComponent(d),a?b[c]=d:b.push(c+"="+d)};b=a?{}:[];var e,f;for(e=0,f=c.elements.length;f>e;++e){var g=c.elements[e];if(e in c.elements)switch(g.nodeName){case"BUTTON":break;default:switch(g.type){case"submit":case"button":break;default:d(g.name,g.value)}}}return a?b:b.join("&")};var wpajax_options={contentSelector:"#content",
adminUrlRegEx:"/wp-",ajaxClass:"added-by-wpajax"};!function(a,b,c){var d={load:function(a){var c=new b.XMLHttpRequest;c.onreadystatechange=function(){switch(c.readyState){case 0:break;case 1:"function"==typeof a.connected&&a.connected();break;case 2:"function"==typeof a.requested&&a.requested();break;case 3:"function"==typeof a.processing&&a.processing();break;case 4:c.status>=200&&c.status<300?"function"==typeof a.delivered&&a.delivered(c.responseText,c.statusText):"function"==typeof a.failed&&a.failed(a.href,c.status,c.statusText);
}},c.timeout="number"==typeof a.timeoutTimer?a.timeoutTimer:0,"function"==typeof a.started&&addEvent(c,"loadstart",function(){a.started()}),"function"==typeof a.aborted&&(addEvent(c,"abort",function(){a.aborted(a.href)}),addEvent(c,"timeout",function(){a.aborted(a.href,c.timeout)})),"function"==typeof a.finished&&addEvent(c,"loadend",function(){a.finished()});var d="string"==typeof a.httpMethod?a.httpMethod.toUpperCase():"GET";
if("GET"!==d&&"POST"!==d&&"PUT"!==d)return!1;if(c.open(d,a.href,!0),"object"==typeof a.requestHeaders){var e,f;for(e=0,f=a.requestHeaders.length;f>e;++e){var g=a.requestHeaders[e];c.setRequestHeader(g.header,g.value)}}return c.setRequestHeader("X-Requested-With","XMLHttpRequest"),"string"==typeof a.data?(c.setRequestHeader("Content-type","application/x-www-form-urlencoded"),c.send(a.data)):c.send(),
!0},replaceNavLinks:function(a,b){if(!a||!b)return!1;var d,e;for(d=0,e=b.length;e>d;++d){var f=b[d];f.classList.add(c.ajaxClass),a.firstElementChild.href?f.firstElementChild.href=a.firstElementChild.href:f.firstElementChild.removeAttribute("href")}return!0},replaceNavPageLinks:function(a,b){if(!a||!b)return!1;var d,e;for(d=0,e=b.length;e>d;++d){var f=b[d];f.classList.add(c.ajaxClass),f.innerHTML=a.innerHTML;
}return!0},updateLinkTag:function(b,c){a.head.querySelector('link[rel="'+b+'"]')&&(c.querySelector('link[rel="'+b+'"]')?a.head.querySelector('link[rel="'+b+'"]').href=c.querySelector('link[rel="'+b+'"]').href:a.head.querySelector('link[rel="'+b+'"]').remove())},attachPageLoad:function(){var d=this;return addEvent(b,"popstate",function(a){if(null!==a.state){var c=e;c.href=b.location.href,d.load(c)}}),
addEvent(a,"click",function(h){var i=b.event||h;if("A"!==i.target.tagName&&"AREA"!==i.target.tagName)return!1;if(i.metaKey||i.ctrlKey||i.altKey||i.shiftKey)return!1;if(!i.target.href)return!1;var j=i.target.href;if(j===b.location.href)return console.log("you're already on that page"),i.preventDefault(),!1;var k=new RegExp(b.location.origin+b.location.pathname+"[^/]*[&#?]","g"),l=new RegExp(c.adminUrlRegEx,"g");
if((j.indexOf(a.domain)>-1||-1===j.indexOf(":"))&&!j.match(k)&&!j.match(l)&&!j.match(/\/feed/g)){i.preventDefault(),b.history.pushState({},"",j);for(var m=a.querySelectorAll(".comment-navigation"),n=!1,o=0,p=m.length;p>o;++o)m[o].contains(i.target)&&(n=!0);for(var q=a.querySelectorAll(".post-navigation"),r=!1,s=0,t=q.length;t>s;++s)q[s].contains(i.target)&&(r=!0);var u;r?(u=f,u.href=j,d.load(u)):n?(u=g,
u.href=j,d.load(u)):(u=e,u.href=j,d.load(u))}}),!0},attachComments:function(){var b=a.getElementById("respond"),c=a.getElementById("commentform"),d=a.createElement("div"),e=this;c&&d&&(d.id="comment-status",d=b.insertBefore(d,c),addEvent(c,"submit",function(a){a.preventDefault(),e.submitComment(c,d)}))},submitComment:function(b,d){var e=b.action,f=b.method?b.method.toUpperCase():"POST",g=b.serialize().replace(/%20/g,"+"),h=/&comment_parent=(\d+)/.exec(g)[1],i={
placeholder:'<p class="ajax-placeholder">Processing...</p>',invaid:'<p class="ajax-error" ><strong>ERROR:</strong> You might have left one of the fields blank, or be posting too quickly</p>',success:'<p class="ajax-success" ><strong>SUCCESS:</strong> Thanks for your comment. We appreciate your response.</p>',aborted:'<p class="ajax-success" ><strong>TIMEOUT:</strong> There was no response from the server. Please refresh the page to see if your comment Posted.</p>',
error:'<p class="ajax-error" ><strong>ERROR:</strong> Please wait a while before posting your next comment</p>'};return this.load({httpMethod:f,href:e,data:g,timeoutTimer:5e3,requestHeaders:[{header:"WP-Request-Type",value:"PostComment"}],started:function(){d.innerHTML=i.placeholder},failed:function(b,c,e){var f=a.createElement("div");f.innerHTML=e;var g=f.querySelector("title");return g&&g.innerHTML.toLowerCase().match(/error/)?(d.innerHTML="<p><strong>ERROR "+c+": </strong>"+f.getElementsByTagName("p")[0].innerHTML+"</p>",
!0):(d.innerHTML="<p><strong>ERROR "+c+": </strong>"+e+"</p>",!1)},aborted:function(a,b){d.innerHTML=i.aborted},delivered:function(e,f){var g=a.createElement("ul");g.className="children",g.innerHTML=e,e=g.firstElementChild;var j=g.querySelector("title");if(j&&j.innerHTML.toLowerCase().match(/error/))return i.wpError=g.getElementsByTagName("p")[0].innerHTML,d.innerHTML=i.wpError,!1;if("0"===h){var k=a.getElementsByClassName("commentlist")[0];
if(!k)return console.log("there is nowhere to put the comment"),d.innerHTML=i.error,!1;e.classList.add(c.ajaxClass),k.insertBefore(e,k.firstElementChild)}else{var l=a.querySelector("#comment-"+h+" > ul.children");null!==l?(e.classList.add(c.ajaxClass),l.appendChild(e)):(g.classList.add(c.ajaxClass),a.getElementById("comment-"+h).appendChild(g))}d.innerHTML=i.success,b.querySelector("textarea[name=comment]").value="";
}}),!0}},e={httpMethod:"GET",timeoutTimer:5e3,requestHeaders:[{header:"WP-Request-Type",value:"GetPage"}],main:a.querySelector(c.contentSelector),aborted:function(b,c){var d=null==c?"":"The request timed out after "+c+" milliseconds.";return console.log("ajax load was aborted.\n"+d),b?(a.location.href=b,!0):!1},failed:function(b,c,d){var e=null==d?"":"Error Message: "+d;return console.log("ajax load failed with an error code: "+c+"\n"+e),
b?(a.location.href=b,!0):!1},delivered:function(b,e){var f=a.createElement("div");f.innerHTML=b;for(var g=a.head.getElementsByTagName("meta"),h=f.querySelector("#ajax-head").getElementsByTagName("meta"),i=g.length-1;i>-1;--i)g[i].remove();for(var j=h.length-1;j>-1;--j)a.head.appendChild(h[j]);d.updateLinkTag("next",f),d.updateLinkTag("prev",f),d.updateLinkTag("shortlink",f),d.updateLinkTag("canonical",f),
f.getElementsByTagName("title")&&(a.title=f.getElementsByTagName("title")[0].innerHTML),this.main&&f.querySelector(this.main).innerHTML&&(this.main.classList.add(c.ajaxClass),this.main.innerHTML=f.querySelector(this.main).innerHTML);for(var k=f.querySelector("#wp-all-registered-nav-menus").querySelectorAll(".menu-item"),l=0;l<k.length;++l){var m=k[l];a.getElementById(m.id).className=m.className}return"function"==typeof ga&&ga("send","pageview"),
d.attachComments(),attachCtrlEnterSubmitWPComment(),!0}},f={timeoutTimer:5e3,requestHeaders:[{header:"WP-Request-Type",value:"GetPosts"}],delivered:function(b,e){var f=a.createElement("div");f.innerHTML=b,a.getElementsByClassName("post-items")[0].classList.add(c.ajaxClass),a.getElementsByClassName("post-items")[0].innerHTML=f.querySelector(".post-items").innerHTML;var g=f.querySelector(".post-navigation .next-posts"),h=f.querySelector(".post-navigation .prev-posts"),i=f.querySelector(".post-navigation .page-numbers"),j=a.querySelectorAll(".post-navigation .next-posts"),k=a.querySelectorAll(".post-navigation .prev-posts"),l=a.querySelectorAll(".post-navigation .page-numbers");
return d.replaceNavLinks(g,j),d.replaceNavLinks(h,k),d.replaceNavPageLinks(i,l),"function"==typeof ga&&ga("send","pageview"),!0}},g={httpMethod:"GET",timeoutTimer:5e3,requestHeaders:[{header:"WP-Request-Type",value:"GetCommentsSection"}],delivered:function(b,e){var f=a.createElement("div");if(f.innerHTML=b,console.log(f),a.getElementsByClassName("commentlist")[0].classList.add(c.ajaxClass),a.getElementsByClassName("commentlist")[0].innerHTML=f.querySelector(".commentlist").innerHTML,
!a.getElementById("respond")){var g=a.getElementById("comments-section"),h=f.querySelector("#respond");g&&h&&g.appendChild(h)}var i=f.querySelector(".comment-navigation .next-comments"),j=f.querySelector(".comment-navigation .prev-comments"),k=f.querySelector(".comment-navigation .page-numbers"),l=a.querySelectorAll(".comment-navigation .next-comments"),m=a.querySelectorAll(".comment-navigation .prev-comments"),n=a.querySelectorAll(".comment-navigation .page-numbers");
return d.replaceNavLinks(i,l),d.replaceNavLinks(j,m),d.replaceNavPageLinks(k,n),"function"==typeof ga&&ga("send","pageview"),!0}};attachCtrlEnterSubmitWPComment(),d.attachPageLoad(),d.attachComments()}(document,window,wpajax_options);