!function(a){a.addEvent=function(b,c,d){b.addEventListener?b.addEventListener(c,d,!1):b.attachEvent&&b.attachEvent("on"+c,function(){return d.call(b,a.event)})}}(window),function(a){a.requestNextAnimationFrame=function(b){"use strict";var c=this;if(c.parameterError="requestNextAnimationFrame() requires a function as its sole parameter","function"!=typeof b)throw c.parameterError;return c.callback=b,
c.queueTime=null,c.testAnimationFrame=function(){a.requestAnimationFrame(function(a){return c.queueTime||(c.queueTime=a),c.queueTime===a?void c.testAnimationFrame():void c.callback()})},c.testAnimationFrame()}}(window),function(a){a.serializeForm=function(a,b,c){"use strict";var d,e=function(a,e){e=encodeURIComponent(e),b&&(e=e.replace(/%20/g,"+")),c?d[a]=e:d.push(a+"="+e)};d=c?{}:[];var f,g;for(f=0,
g=a.elements.length;g>f;++f){var h=a.elements[f];if(f in a.elements)switch(h.nodeName){case"BUTTON":break;default:switch(h.type){case"submit":case"button":break;default:e(h.name,h.value)}}}return c?d:d.join("&")}}(window),function(a,b){"use strict";b.whichTransitionEvent=function(){var b,c=a.createElement("fakeelement"),d={transition:"transitionend",OTransition:"oTransitionEnd",MozTransition:"transitionend",
WebkitTransition:"webkitTransitionEnd"};for(b in d)if(void 0!==c.style[b])return d[b]}}(document,window),function(a,b){b.AnimateMutate=function(c,d){"use strict";console.dir(this);var e=this;this.mutate=null,this.invert=null,this.play=null,this.cleanUp=null,this.cleanUpAfter=null,this.state=0,this.complete=!1,this.el={context:{}},this.el.context.node=d||a;for(var f in c)this.el[f]={},"string"==typeof c[f]?this.el[f].node=this.el.context.node.getElementsByClassName(c[f])[0]:"object"==typeof c[f]&&(this.el[f].node=this.el.context.node.getElementsByClassName(c[f][0])[0],
this.el[f].needCompStyle=c[f][1]);this.copyComputedStyle=function(a){var b={};for(var c in a)parseInt(c)||"function"==typeof a[c]||(b[c]=a[c]);return b},this.collect=function(){var a=this.collect.once?"last":"first";this.collect.once=!0;for(var c in this.el){var d=this.el[c];d[a]={},d[a].rect=d.node.getBoundingClientRect(),d.needCompStyle&&(d[a].compStyle=this.copyComputedStyle(b.getComputedStyle(d.node)));
}},this.cleanUpWrapper=function(a){e.state++,e.complete=!0,a.target.removeEventListener(a.type,e.cleanUp),e.cleanUp()},this.animate=function(){this.mutate&&this.invert&&this.play&&(this.collect(),this.state++,this.mutate(),this.state++,this.collect(),this.state++,this.invert(),this.state++,b.requestNextAnimationFrame(function(){if(e.play(),e.state++,e.cleanUpAfter&&e.cleanUp){var a=b.whichTransitionEvent();
e.cleanUpAfter.addEventListener(a,e.cleanUpWrapper,!1)}else e.state++,e.complete=!0}))}}}(document,window),function(a,b){b.Progress=function(){"use strict";console.dir(this);this.state=0,this.forward=function(a){},this.update=null,this.complete=null}}(document,window),function(a,b){b.RequestImg=function(a,b){"use strict";console.dir(this),this.img=a,this.callback=b,this.mutateAtts=function(){this.img.onload=this.callback();
for(var a in this.img.dataset)this.img.setAttribute(a,this.img.dataset[a]),this.img.removeAttribute("data-"+a)}}}(document,window),function(a,b){var c=function(a){},d=function(c){var d=c||b.event;if(!(d.metaKey||d.ctrlKey||d.altKey||d.shiftKey)){for(var e=d.target;;){if("BODY"===e.tagName)return;if("A"===e.tagName||"AREA"===e.tagName)break;e=e.parentElement}var f=e;if(f.href){if(f.href===b.location.href)return console.log("you're already on that page"),
void d.preventDefault();var g=new RegExp(b.location.origin+b.location.pathname+"[^/]*[&#?]","g"),h=new RegExp("/wp-","g");if((f.href.indexOf(a.domain)>-1||-1===f.href.indexOf(":"))&&!f.href.match(g)&&!f.href.match(h)&&!f.href.match(/\/feed/g)){d.preventDefault();for(var i={postExpand:"post--postExpandJS"},j=f;;){if("BODY"===j.tagName)return;for(var k in i)if(j.classList.contains(i[k]))return b.history.pushState({
type:k},"",f.href),void b[k](d,j,f.href);j=j.parentElement}}}}},e=function(){b.addEventListener("popstate",c,!1),a.addEventListener("click",d,!0)};"loading"===a.readyState?a.addEventListener("DOMContentLoaded",e,!1):e()}(document,window),function(a,b){"use strict";b.postExpand=function(c,d,e){var f=new b.AnimateMutate({hero:"cover__hero",title:["cover__titleLink",!0],imgList:"cover__heroImg--list",
imgBlur:"cover__heroImg--blur"},d),g=f.el.context,h=f.el.hero,i=f.el.title,j=f.el.imgList,k=function(){l.img.complete&&f.complete&&(j.node.style.transition=f.el.imgBlur.node.style.transition="opacity .5s linear",b.requestAnimationFrame(function(){j.node.style.opacity=f.el.imgBlur.node.style.opacity=""}))};f.mutate=function(){var b=a.getElementsByClassName("mainContent")[0],c=b.cloneNode(!0),d=g.node.cloneNode(!0);
g.node.parentNode.insertBefore(d,g.node.nextSibling),c.replaceChild(g.node,c.getElementsByClassName("post")[0]),c.classList.remove("mainContent--active"),g.node.classList.remove("post--list"),g.node.classList.add("post--full"),a.body.appendChild(c),a.body.removeChild(b),a.getElementById("mainNav--opener").checked=!1,c.classList.add("mainContent--active"),h.node.style.transform=i.node.style.transform="none";
},f.invert=function(){h.node.style.transition=i.node.style.transition="none";var a="translateZ(0.0001px) ",b=h.first.rect.left+h.first.rect.width/2-(h.last.rect.left+h.last.rect.width/2);a+="translateX("+b+"px) ";var c=h.first.rect.top+h.first.rect.height/2-(h.last.rect.top+h.last.rect.height/2);a+="translateY("+c+"px) ";var d=h.first.rect.width/h.last.rect.width;a+="scaleX("+d+") ";var e=h.first.rect.height/h.last.rect.height;
a+="scaleY("+e+") ",h.node.style.transform=a;var f=i.first.rect.width*parseFloat(i.last.compStyle.lineHeight)/parseFloat(i.first.compStyle.lineHeight),g="translateZ(0.0002px) ",j=i.first.rect.left+i.first.rect.width/2-(i.last.rect.left+f/2);g+="translateX("+j+"px) ";var k=i.first.rect.bottom-i.last.rect.bottom;g+="translateY("+k+"px) ";var l=i.first.rect.width/f;g+="scale("+l+") ",i.node.style.width=f+"px",
i.node.style.transform=g,this.el.imgList.node.style.opacity=0,this.el.imgBlur.node.style.opacity=.6},f.play=function(){h.node.style.transition=i.node.style.transition="",h.node.style.transform=i.node.style.transform=""},f.cleanUp=function(){k()},f.cleanUpAfter=h.node;var l=new b.RequestImg(j.node,k),m=new b.XMLHttpRequest;m.open("GET",e,!0),console.dir(m),m.timeout=5e3,m.setRequestHeader("X-Requested-With","XMLHttpRequest"),
m.setRequestHeader("WP-Request-Type","GetPage"),m.onload=function(){var b=a.createElement("div");b.innerHTML=m.responseText,console.log(b)},m.send(),f.animate(),l.mutateAtts()}}(document,window);